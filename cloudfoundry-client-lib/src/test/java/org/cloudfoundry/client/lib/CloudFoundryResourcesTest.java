
package org.cloudfoundry.client.lib;

import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.Map;

import org.codehaus.jackson.JsonParseException;
import org.codehaus.jackson.map.JsonMappingException;
import org.codehaus.jackson.map.ObjectMapper;
import org.codehaus.jackson.map.type.TypeFactory;
import org.codehaus.jackson.type.JavaType;
import org.junit.Test;

public class CloudFoundryResourcesTest {

    @Test
    public void test() throws JsonParseException, JsonMappingException, IOException {
        String s = "[{\"sha1\":\"677E1B9BCA206D6534054348511BF41129744839\", \"fn\":\"index.html\", \"size\":93}]";//, {sha1=D57C8B237DEBB77C610D1F6223B72E7C387A2553, fn=META-INF/INDEX.LIST, size=411}, {sha1=4858B045357188D3C1331B4305F112B452D0FADA, fn=META-INF/MANIFEST.MF, size=173}, {sha1=665BBCB00B248A71541302FFECE134959438BADA, fn=WEB-INF/classes/import.sql, size=4122}, {sha1=3FB1574400DC54CBA94526AFB28BA9EBB66215B6, fn=WEB-INF/classes/log4j.xml, size=1125}, {sha1=185E204AEC7A723D8B4C0455545DD9F3C6FDACB6, fn=WEB-INF/classes/META-INF/persistence.xml, size=1141}, {sha1=0B6078C42451FC73126E55C372801599AA482CAD, fn=WEB-INF/classes/org/springframework/webflow/samples/booking/ApplicationConversionService.class, size=874}, {sha1=D743D657F84D07C0381E34ED7C74068EC0F02A99, fn=WEB-INF/classes/org/springframework/webflow/samples/booking/Booking.class, size=6419}, {sha1=7E851189A3C42C071AAC70F1DAFC3748F88B5965, fn=WEB-INF/classes/org/springframework/webflow/samples/booking/BookingFlowHandler.class, size=1296}, {sha1=80DA804027129616A2D7E80E03E3AFF52583BDEB, fn=WEB-INF/classes/org/springframework/webflow/samples/booking/BookingService.class, size=831}, {sha1=09C1DFC71ECF2E7866EC80A94A3CBE887A556D62, fn=WEB-INF/classes/org/springframework/webflow/samples/booking/Hotel.class, size=2969}, {sha1=3EFD26674F647817E905B00F5979A3CFFB3D7142, fn=WEB-INF/classes/org/springframework/webflow/samples/booking/HotelsController.class, size=2618}, {sha1=35CBEA2098BA7C3D1AB8D8698272B8ED544DAB2C, fn=WEB-INF/classes/org/springframework/webflow/samples/booking/JpaBookingService.class, size=4730}, {sha1=169973ECBDF251F60BD0C135FEBA29FEC1A93BFC, fn=WEB-INF/classes/org/springframework/webflow/samples/booking/SearchCriteria.class, size=1114}, {sha1=FD8E0D25260947A3160DD7F9AD74C6C390595E6E, fn=WEB-INF/classes/org/springframework/webflow/samples/booking/User.class, size=1557}, {sha1=4A16E3B5B5EADC27E73DBAB269E0A005EF4A70AC, fn=WEB-INF/config/data-access-config.xml, size=1673}, {sha1=284DD7CCF6988B956A2DCDC5AA1DE657FEEAD979, fn=WEB-INF/config/security-config.xml, size=1754}, {sha1=252D18735024E75692F55912BD1811F8A37BCE4D, fn=WEB-INF/config/web-application-config.xml, size=1035}, {sha1=050F0BA854AC5419FC7F5C47243934C7617465BF, fn=WEB-INF/config/webflow-config.xml, size=2157}, {sha1=65158D7719A46663B9B8443E922155DE99DB08DD, fn=WEB-INF/config/webmvc-config.xml, size=2656}, {sha1=B08B24EF41FF40EB4A26B195127E15F8F3AD3BCD, fn=WEB-INF/hotels/booking/booking.xml, size=1540}, {sha1=CE54B34D25B3A6BCAC785DBDDA7CF48A61A0C70E, fn=WEB-INF/hotels/booking/bookingForm.jsp, size=5820}, {sha1=29732233A946EBFD683BC38983A43926E97EFA17, fn=WEB-INF/hotels/booking/enterBookingDetails.jsp, size=483}, {sha1=CBFD24F147D7FC72A7106B085BCD382E567576CE, fn=WEB-INF/hotels/booking/messages.jsp, size=154}, {sha1=56F7BB6FA3D3F3487BE14E902EFE51847A4BE034, fn=WEB-INF/hotels/booking/messages.properties, size=334}, {sha1=C5B2A7FEEF2CEDE5C84CCE9F80867AA463A215A2, fn=WEB-INF/hotels/booking/reviewBooking.jsp, size=1958}, {sha1=9EF08369F75521017819ACF3FDA9820E76558CD1, fn=WEB-INF/hotels/booking/views.xml, size=818}, {sha1=ED57D1340DEB3E5B6C65E9A239DE50E81CFEF20D, fn=WEB-INF/hotels/bookingsTable.jsp, size=1365}, {sha1=C4A7B17895C9B6E417CF5BCF1AAEAB8243BAD9CB, fn=WEB-INF/hotels/hotelSearchForm.jsp, size=1227}, {sha1=7BB8670FD67D90C6593093AFD70A35F3D256E54C, fn=WEB-INF/hotels/index.jsp, size=168}, {sha1=B32FFCDD4B9A75990FA68E4E5C0071E3847B2C48, fn=WEB-INF/hotels/search.jsp, size=2251}, {sha1=68552EC4B7A5F7AB308B9CA4AD08F6BD4F1F1E1D, fn=WEB-INF/hotels/show.jsp, size=1423}, {sha1=3187A32EDDA523C33415FD68FEB19D0A5D48489A, fn=WEB-INF/hotels/views.xml, size=924}, {sha1=24C0BB1D5ABF48671DD36C158D7E93ABFD0975F4, fn=WEB-INF/intro.jsp, size=1494}, {sha1=1F80C9F5681DDEB3A056B89B2AF88085A5B4987F, fn=WEB-INF/layouts/layouts.xml, size=331}, {sha1=1C9568C6B6668AC41B468CBE5458093979B969B2, fn=WEB-INF/layouts/standard.jsp, size=2990}, {sha1=094E9581BF53D409075E47115B368B26D8B44A34, fn=WEB-INF/lib/com.springsource.antlr-2.7.6.jar, size=443717}, {sha1=AEEAB9FEDFCF3D32B93DC7502757F883C1B1AE8B, fn=WEB-INF/lib/com.springsource.edu.oswego.cs.dl.util.concurrent-1.3.4.jar, size=193019}, {sha1=C6782C05431478181041A53552E953525D039380, fn=WEB-INF/lib/com.springsource.javassist-3.3.0.ga.jar, size=464134}, {sha1=883CCD96B3C04C978C1D29B2E08F4445A67F953D, fn=WEB-INF/lib/com.springsource.javax.persistence-1.0.0.jar, size=53767}, {sha1=D7152BA795142A5626909439E568BDE04C391EEC, fn=WEB-INF/lib/com.springsource.javax.servlet.jsp.jstl-1.1.2.jar, size=21247}, {sha1=73C8AFA5C15296BFE507E2409AF951C36380238D, fn=WEB-INF/lib/com.springsource.javax.transaction-1.1.0.jar, size=9856}, {sha1=5486196E68CB76401E3B2CC7871E71EB8BD60CA5, fn=WEB-INF/lib/com.springsource.net.sf.cglib-2.1.3.jar, size=328786}, {sha1=98A0422D4D2DB980F59894E680E7B8A8421DDA4D, fn=WEB-INF/lib/com.springsource.org.aopalliance-1.0.0.jar, size=4608}, {sha1=DE4987D96D815CE64C3E4D380CCF21B46BFC201D, fn=WEB-INF/lib/com.springsource.org.apache.commons.beanutils-1.7.0.jar, size=188921}, {sha1=62C29B0A3A2D140EB0CDDB252C8E9B23FC638353, fn=WEB-INF/lib/com.springsource.org.apache.commons.codec-1.3.0.jar, size=47405}, {sha1=D1C838E6FC61AE29E4093BCD32764E3AA7FBA67E, fn=WEB-INF/lib/com.springsource.org.apache.commons.collections-3.2.0.jar, size=578877}, {sha1=3D3CC3C5B2BBA46FF74215968E0917A2E363E18C, fn=WEB-INF/lib/com.springsource.org.apache.commons.digester-1.8.0.jar, size=143922}, {sha1=C7DE26F7AA6C859914D96B6180EBAEB6A46C5F71, fn=WEB-INF/lib/com.springsource.org.apache.commons.lang-2.1.0.jar, size=209682}, {sha1=B530D0BE83CA35A21AA8E89732AEA2AE4E8515FF, fn=WEB-INF/lib/com.springsource.org.apache.commons.logging-1.1.1.jar, size=61465}, {sha1=AC498136CF4857E3C1665A142E616C6826D15E4D, fn=WEB-INF/lib/com.springsource.org.apache.log4j-1.2.15.jar, size=396751}, {sha1=636B69C117CA0C08F7D903A4DEC4666F6828311F, fn=WEB-INF/lib/com.springsource.org.apache.taglibs.standard-1.1.2.jar, size=398361}, {sha1=E2ECFB2098C0FDE5975597F8CD75D39C364A1138, fn=WEB-INF/lib/com.springsource.org.apache.tiles-2.0.5.jar, size=16132}, {sha1=D4EC09DE4D4423C615C0F4C45261DFA44477FFEA, fn=WEB-INF/lib/com.springsource.org.apache.tiles.core-2.0.5.osgi.jar, size=126755}, {sha1=3BC22077FBE1FCB1E1CADF179F9E1FE9DFF17485, fn=WEB-INF/lib/com.springsource.org.apache.tiles.jsp-2.0.5.jar, size=43505}, {sha1=C84E565CAFCEC4430A4170538B16992564B68D2C, fn=WEB-INF/lib/com.springsource.org.dom4j-1.6.1.jar, size=314484}, {sha1=7BA4FB57710A2779425FDAE6BC6F5682A21A3141, fn=WEB-INF/lib/com.springsource.org.hibernate-3.2.6.ga.jar, size=2299277}, {sha1=92996E3DEE61B3F8587FBDB5D29F8BE2FAC528F3, fn=WEB-INF/lib/com.springsource.org.hibernate.annotations-3.3.0.ga.jar, size=267868}, {sha1=CF7ACFAD85973767E39D8A9391356ACB48858307, fn=WEB-INF/lib/com.springsource.org.hibernate.annotations.common-3.3.0.ga.jar, size=67589}, {sha1=0E71E3D6A0D30753F32CB3BC1495207EABC8B4E4, fn=WEB-INF/lib/com.springsource.org.hibernate.ejb-3.3.1.ga.jar, size=118422}, {sha1=924D438640928143A698EC0C0ECFFC1E8028C300, fn=WEB-INF/lib/com.springsource.org.hsqldb-1.8.0.9.jar, size=705837}, {sha1=D564EDDE2632855BEDEDEE87C0CCED5A5CC14A4D, fn=WEB-INF/lib/com.springsource.org.jboss.util-2.0.4.GA.jar, size=425432}, {sha1=18BCD21E18828FE80319F7A4A09C72D2E951FB53, fn=WEB-INF/lib/com.springsource.org.objectweb.asm-1.5.3.jar, size=26710}, {sha1=15CABD49723447D1EC21B9A5FCBDC4159956EE19, fn=WEB-INF/lib/com.springsource.org.objectweb.asm.attrs-1.5.3.jar, size=17181}, {sha1=40277478382FE6004909E94E4A740CDBDF752ABB, fn=WEB-INF/lib/com.springsource.org.ognl-2.6.9.jar, size=169907}, {sha1=DF2E6CE064428ACA0E9B6158E1C4B21B61EA2359, fn=WEB-INF/lib/org.springframework.aop-2.5.5.A.jar, size=325807}, {sha1=DA3936A8D6DCDD563EB22E4987E254B45D8FECB8, fn=WEB-INF/lib/org.springframework.beans-2.5.5.A.jar, size=485494}, {sha1=03C5D93516D4D9E167E66A549A688420783AE32F, fn=WEB-INF/lib/org.springframework.binding-2.0.3.RELEASE.jar, size=142366}, {sha1=7CC9D1854D6ACD057DB8E65DE7DCAAF2C05DDB24, fn=WEB-INF/lib/org.springframework.context-2.5.5.A.jar, size=471539}, {sha1=F9E0499BD357D3CA260B157E8D82800995EF641A, fn=WEB-INF/lib/org.springframework.context.support-2.5.5.A.jar, size=93799}, {sha1=B213DC0E4F013FEB0DA3D528D0C149034DB97E74, fn=WEB-INF/lib/org.springframework.core-2.5.5.A.jar, size=286593}, {sha1=FE759526F04EC3FB65658D11C083B7F258B73C18, fn=WEB-INF/lib/org.springframework.jdbc-2.5.5.A.jar, size=326665}, {sha1=DCC2F7F0007B563C4ACDDD0DB78288EAF7BB72CD, fn=WEB-INF/lib/org.springframework.js-2.0.3.RELEASE.jar, size=1019277}, {sha1=A8E0900007C4F02DA7A58CDBF0C2021BA574F402, fn=WEB-INF/lib/org.springframework.orm-2.5.5.A.jar, size=373614}, {sha1=37415E51970B535DD70E3619769A2BD4FC27E1EF, fn=WEB-INF/lib/org.springframework.security-2.0.2.A.jar, size=749769}, {sha1=491C7C1B967C61692113A84367D6E22A94503D73, fn=WEB-INF/lib/org.springframework.security.acls-2.0.2.A.jar, size=67119}, {sha1=D85F882BC43AB38CE971B8BAD2B8D8E625D211CF, fn=WEB-INF/lib/org.springframework.security.taglibs-2.0.2.A.jar, size=20119}, {sha1=C98FB7580319950A36C7E95BE2A18A60C7233278, fn=WEB-INF/lib/org.springframework.transaction-2.5.5.A.jar, size=230528}, {sha1=E0CA75934F921D72CA93C25FD502E8DEF4CE4070, fn=WEB-INF/lib/org.springframework.web-2.5.5.A.jar, size=193019}, {sha1=C06F585E8B6A0CDACBA7F8B0C19EBCE9ACAE5B28, fn=WEB-INF/lib/org.springframework.web.servlet-2.5.5.A.jar, size=403100}, {sha1=7FBA03BB1591AA7BB5ABC9859966798109BF9604, fn=WEB-INF/lib/org.springframework.webflow-2.0.3.RELEASE.jar, size=490217}, {sha1=228EA3662E463DC4D72AE6C770FF1DF57FD9293C, fn=WEB-INF/login.jsp, size=2833}, {sha1=3F36B3CFBB028388732A1475DABA6A96B9707C34, fn=WEB-INF/logoutSuccess.jsp, size=216}, {sha1=5B37AD534AE35F8DD306080A44A6203A480C9B6C, fn=WEB-INF/views.xml, size=639}, {sha1=BE84B4DE7A39F013982D707EE2A5AC23B65BF873, fn=WEB-INF/web.xml, size=2251}, {sha1=A1BF5C7197A2070709DF7BB452B33C46FEFB407E, fn=images/bg.gif, size=163}, {sha1=1D6BE4FC517369F174DEEF70F4478249D12BB35E, fn=images/btn.bg.gif, size=70}, {sha1=2B98D718CDCC629CE501F8BFF70F43D74C5DBAC9, fn=images/diplomat.jpg, size=17957}, {sha1=118C924AC1A4B7B52287548898A6DB44F076D3AD, fn=images/header.jpg, size=24347}, {sha1=8894B69C7660B8F5C2F05A64F5E3F9A85B6B1F8E, fn=images/input.bg.gif, size=122}, {sha1=1B1FCD69BC6C367B7C1271319FE3D2CA53E93364, fn=images/powered-by-spring.png, size=6591}, {sha1=64A9DDEDCB5F93D9B7FB283AB6027EB0BC09BF04, fn=images/spring-logo.jpg, size=31339}, {sha1=DFD377B1F9DE76C799F17E64FD65797716FFE8D7, fn=images/th.bg.gif, size=1074}, {sha1=E2FF39C98C71FB3B9C92383CC3A4D6FF6C24560C, fn=images/tse.gif, size=2814}, {sha1=DB6D7F195356753ECEAD962152AFA3E97C3F12D1, fn=images/webflow-logo.jpg, size=2383}, {sha1=890A77C87AC5CACBA5C1AAB9F8F6D7C0F920C56B, fn=styles/booking.css, size=2624}]";
        ObjectMapper mapper = new ObjectMapper();

        List<Map<String,Object>> x = new ArrayList<Map<String,Object>>();
        x.add(Collections.<String,Object>singletonMap("k","v"));
        mapper.writeValue(System.out, x);
        
        
        CloudFoundryResources r = new CloudFoundryResources();
        r.add(new CloudFoundryResource("f", 123, "dsds"));
        mapper.writeValue(System.out, r);
        
        
        JavaType t = TypeFactory.type(CloudFoundryResources.class);
        mapper.readValue(new ByteArrayInputStream(s.getBytes()), t);
    
    }

}
